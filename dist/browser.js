"use strict";var CDFormLibrary=(()=>{var V={mask:/^.*$/,preprocessors:[],postprocessors:[],plugins:[],overwriteMode:"shift"},J=class{constructor(){this.now=null,this.past=[],this.future=[]}undo(){let e=this.past.pop();e&&this.now&&(this.future.push(this.now),this.updateElement(e,"historyUndo"))}redo(){let e=this.future.pop();e&&this.now&&(this.past.push(this.now),this.updateElement(e,"historyRedo"))}updateHistory(e){if(!this.now){this.now=e;return}let n=this.now.value!==e.value,s=this.now.selection.some((r,o)=>r!==e.selection[o]);!n&&!s||(n&&(this.past.push(this.now),this.future=[]),this.now=e)}updateElement(e,n){this.now=e,this.updateElementState(e,{inputType:n,data:null})}};function tt(t,...e){return e.every(({value:n})=>n===t.value)}function Q(t,...e){return e.every(({value:n,selection:s})=>n===t.value&&s[0]===t.selection[0]&&s[1]===t.selection[1])}function be({value:t,selection:e},n,s){let[r,o]=e,i=typeof s=="function"?s({value:t,selection:e}):s;return{value:t,selection:i==="replace"?[r,Math.max(r+n.length,o)]:[r,o]}}function U(t){return typeof t=="string"}function we(t,e,n,s){let r="";for(let o=e.length;o<t.length;o++){let i=t[o]||"",a=s?.value[o]===i;if(!U(i)||i===n&&!a)return r;r+=i}return r}function Me(t,e){return Array.isArray(e)?t.length===e.length&&Array.from(t).every((n,s)=>{let r=e[s]||"";return U(r)?n===r:n.match(r)}):e.test(t)}function nt(t,e,n){let s=null,r=null,o=Array.from(t.value).reduce((a,c,l)=>{let u=we(e,a,c,n),m=a+u,f=e[m.length]||"";return s===null&&l>=t.selection[0]&&(s=m.length),r===null&&l>=t.selection[1]&&(r=m.length),U(f)?m+f:c.match(f)?m+c:u.startsWith(c)?m:a},""),i=we(e,o,"",n);return{value:Me(o+i,e)?o+i:o,selection:[s??o.length,r??o.length]}}function st({value:t,selection:e},n){let[s,r]=e,o=s,i=r,a=Array.from(t).reduce((c,l,u)=>{let m=c+l;return s===u&&(o=c.length),r===u&&(i=c.length),m.match(n)?m:c},"");return{value:a,selection:[Math.min(o,a.length),Math.min(i,a.length)]}}function O(t,e,n=null){if(Me(t.value,e))return t;let{value:s,selection:r}=Array.isArray(e)?nt(t,e,n):st(t,e);return{selection:r,value:Array.isArray(e)?s.slice(0,e.length):s}}function Se(t,e){if(!Array.isArray(e))return t;let[n,s]=t.selection,r=[],o=Array.from(t.value).reduce((i,a,c)=>{let l=e[c]||"";return c===n&&r.push(i.length),c===s&&r.push(i.length),U(l)&&l===a?i:i+a},"");return r.length<2&&r.push(...new Array(2-r.length).fill(o.length)),{value:o,selection:[r[0],r[1]]}}var C=class{constructor(e,n){this.maskOptions=n,this.unmaskInitialState={value:"",selection:[0,0]},this.value="",this.selection=[0,0];let s=this.getMaskExpression(e),{value:r,selection:o}=O(e,s);this.unmaskInitialState=Se({value:r,selection:o},s),this.value=r,this.selection=o}addCharacters(e){let{value:n,selection:s,maskOptions:r}=this,o={value:n,selection:s},{selection:[i,a]}=be(o,e,r.overwriteMode),c=this.getMaskExpression({value:n.slice(0,i)+e+n.slice(a),selection:[i+e.length,i+e.length]}),[l,u]=be(this.unmaskInitialState,e,r.overwriteMode).selection,m=this.unmaskInitialState.value.slice(0,l)+e,f=m.length,h=O({value:m+this.unmaskInitialState.value.slice(u),selection:[f,f]},c,o),p=n.slice(0,i),g=O({value:m,selection:[f,f]},c,o);if(g.value===p||g.value.length<p.length&&Se(g,c).value===this.unmaskInitialState.value.slice(0,l)||Q(this,h))throw new Error("Invalid mask value");this.value=h.value,this.selection=h.selection}deleteCharacters(){let[e,n]=this.selection;if(e===n||!n)return;let{value:s}=this,r=this.getMaskExpression({value:s.slice(0,e)+s.slice(n),selection:[e,e]}),o={value:s},[i,a]=this.unmaskInitialState.selection,c=this.unmaskInitialState.value.slice(0,i)+this.unmaskInitialState.value.slice(a),l=O({value:c,selection:[i,i]},r,o);this.value=l.value,this.selection=l.selection}getMaskExpression(e){let{mask:n}=this.maskOptions;return typeof n=="function"?n(e):n}},I=class{constructor(e){this.element=e,this.listeners=[]}listen(e,n,s){let r=n;this.element.addEventListener(e,r,s),this.listeners.push(()=>this.element.removeEventListener(e,r,s))}destroy(){this.listeners.forEach(e=>e())}},M={CTRL:1,ALT:2,SHIFT:4,META:8},R={Y:89,Z:90};function x(t,e,n){return t.ctrlKey===!!(e&M.CTRL)&&t.altKey===!!(e&M.ALT)&&t.shiftKey===!!(e&M.SHIFT)&&t.metaKey===!!(e&M.META)&&t.keyCode===n}function rt(t){return x(t,M.CTRL,R.Y)||x(t,M.CTRL|M.SHIFT,R.Z)||x(t,M.META|M.SHIFT,R.Z)}function ot(t){return x(t,M.CTRL,R.Z)||x(t,M.META,R.Z)}function ee(t,e){var n;let s=t.value;if(typeof e=="string")t.value=e;else{let[r,o]=e.selection;t.value=e.value,t.matches(":focus")&&((n=t.setSelectionRange)===null||n===void 0||n.call(t,r,o))}t.value!==s&&t.dispatchEvent(new Event("input",{bubbles:!0}))}function it({value:t,selection:e},n){let[s,r]=e;if(s!==r)return[s,r];let o=n?t.slice(s).indexOf(`
`)+1||t.length:t.slice(0,r).lastIndexOf(`
`)+1;return[n?s:o,n?o:r]}function at({value:t,selection:e},n){let[s,r]=e;return s!==r?[s,r]:(n?[s,r+1]:[s-1,r]).map(i=>Math.min(Math.max(i,0),t.length))}var lt=/\s+$/g,ct=/^\s+/g,Ae=/\s/;function ut({value:t,selection:e},n){let[s,r]=e;if(s!==r)return[s,r];if(n){let c=t.slice(s),[l]=c.match(ct)||[""],u=c.trimStart().search(Ae);return[s,u!==-1?s+l.length+u:t.length]}let o=t.slice(0,r),[i]=o.match(lt)||[""],a=o.trimEnd().split("").reverse().findIndex(c=>Ae.exec(c));return[a!==-1?r-i.length-a:0,r]}function F(t=[]){return(e,...n)=>t.reduce((s,r)=>Object.assign(Object.assign({},s),r(s,...n)),e)}function $e(t,e){let n=Object.assign(Object.assign({},V),e),s=F(n.preprocessors),r=F(n.postprocessors),o=typeof t=="string"?{value:t,selection:[0,0]}:t,{elementState:i}=s({elementState:o,data:""},"validation"),a=new C(i,n),{value:c,selection:l}=r(a,o);return typeof t=="string"?c:{value:c,selection:l}}function dt(){return t=>{let e=new I(t),n=!1,s,r=t.value;return e.listen("keydown",({key:o})=>{n=o==="Unidentified"}),e.listen("beforeinput",o=>{s=o,r=t.value}),e.listen("input",o=>{n&&s.defaultPrevented&&s.inputType==="deleteContentBackward"&&o.inputType==="deleteContentBackward"&&(t.value=r)},{capture:!0}),()=>e.destroy()}}var X=" ";function mt(){let t="",e=0,n=null,s=!1;return r=>{let o=new I(r);return o.listen("beforeinput",i=>{var a,c;let{value:l,selectionStart:u,selectionEnd:m}=r,f=n?.inputType==="insertText"&&n?.data===X&&!l.slice(0,Number(m)).endsWith(X);i.inputType==="insertText"&&i.data===`.${X}`&&(n?.inputType==="deleteContentBackward"&&s?(r.value=t,(a=r.setSelectionRange)===null||a===void 0||a.call(r,e,e)):f&&((c=r.setSelectionRange)===null||c===void 0||c.call(r,u,u))),s=f,n=i,t=l,e=Number((f?e:m)===l.length?m:u)}),()=>o.destroy()}}var ft=[mt(),dt()],T=class extends J{constructor(e,n){super(),this.element=e,this.maskitoOptions=n,this.isTextArea=this.element.nodeName==="TEXTAREA",this.eventListener=new I(this.element),this.options=Object.assign(Object.assign({},V),this.maskitoOptions),this.upcomingElementState=null,this.preprocessor=F(this.options.preprocessors),this.postprocessor=F(this.options.postprocessors),this.teardowns=this.options.plugins.concat(ft).map(s=>s(this.element,this.options)),this.updateHistory(this.elementState),this.eventListener.listen("keydown",s=>{if(rt(s))return s.preventDefault(),this.redo();if(ot(s))return s.preventDefault(),this.undo()}),this.eventListener.listen("beforeinput",s=>{var r,o,i;let a=s.inputType.includes("Forward");switch(this.updateHistory(this.elementState),s.inputType){case"deleteByCut":case"deleteContentBackward":case"deleteContentForward":return this.handleDelete({event:s,isForward:a,selection:at(this.elementState,a)});case"deleteHardLineBackward":case"deleteHardLineForward":case"deleteSoftLineBackward":case"deleteSoftLineForward":return this.handleDelete({event:s,isForward:a,selection:it(this.elementState,a),force:!0});case"deleteWordBackward":case"deleteWordForward":return this.handleDelete({event:s,isForward:a,selection:ut(this.elementState,a)});case"historyRedo":return s.preventDefault(),this.redo();case"historyUndo":return s.preventDefault(),this.undo();case"insertCompositionText":return;case"insertLineBreak":case"insertParagraph":return this.handleEnter(s);case"insertReplacementText":return;case"insertFromDrop":case"insertFromPaste":case"insertText":default:return this.handleInsert(s,(i=(r=s.data)!==null&&r!==void 0?r:(o=s.dataTransfer)===null||o===void 0?void 0:o.getData("text/plain"))!==null&&i!==void 0?i:"")}}),this.eventListener.listen("input",()=>{this.upcomingElementState&&!Q(this.upcomingElementState,this.elementState)&&this.updateElementState(this.upcomingElementState),this.upcomingElementState=null},{capture:!0}),this.eventListener.listen("input",({inputType:s})=>{s!=="insertCompositionText"&&(this.ensureValueFitsMask(),this.updateHistory(this.elementState))}),this.eventListener.listen("compositionend",()=>{this.ensureValueFitsMask(),this.updateHistory(this.elementState)})}destroy(){this.eventListener.destroy(),this.teardowns.forEach(e=>e?.())}updateElementState({value:e,selection:n},s){let r=this.elementState.value;this.updateValue(e),this.updateSelectionRange(n),s&&r!==e&&this.dispatchInputEvent(s)}get elementState(){let{value:e,selectionStart:n,selectionEnd:s}=this.element;return{value:e,selection:[n??0,s??0]}}get maxLength(){let{maxLength:e}=this.element;return e===-1?1/0:e}updateSelectionRange([e,n]){var s;let{element:r}=this;r.matches(":focus")&&(r.selectionStart!==e||r.selectionEnd!==n)&&((s=r.setSelectionRange)===null||s===void 0||s.call(r,e,n))}updateValue(e){(this.element.value!==e||this.element.isContentEditable)&&(this.element.value=e)}ensureValueFitsMask(){this.updateElementState($e(this.elementState,this.options),{inputType:"insertText",data:null})}dispatchInputEvent(e={inputType:"insertText",data:null}){globalThis.InputEvent&&this.element.dispatchEvent(new InputEvent("input",Object.assign(Object.assign({},e),{bubbles:!0,cancelable:!1})))}handleDelete({event:e,selection:n,isForward:s}){let r={value:this.elementState.value,selection:n},{elementState:o}=this.preprocessor({elementState:r,data:""},s?"deleteForward":"deleteBackward"),i=new C(o,this.options);i.deleteCharacters();let a=this.postprocessor(i,r);if(tt(r,o,i,a)){let[c,l]=o.selection;return e.preventDefault(),this.updateSelectionRange(s?[l,l]:[c,c])}this.upcomingElementState=a}handleInsert(e,n){let{options:s,maxLength:r,elementState:o}=this,[i,a]=o.selection,{elementState:c,data:l=n}=this.preprocessor({data:n,elementState:o},"insert"),u=new C(c,s);try{u.addCharacters(l)}catch{return e.preventDefault()}this.upcomingElementState=this.clampState(this.postprocessor(u,o)),o.value.length>=r&&i===a&&(s.overwriteMode==="replace"&&!Q(this.upcomingElementState,o)?this.dispatchInputEvent({inputType:"insertText",data:n}):this.upcomingElementState=null)}handleEnter(e){(this.isTextArea||this.element.isContentEditable)&&this.handleInsert(e,`
`)}clampState({value:e,selection:n}){let[s,r]=n,o=this.maxLength;return{value:e.slice(0,o),selection:[Math.min(s,o),Math.min(r,o)]}}};function Re(t,e,n){let s=Math.min(Number(n),Math.max(Number(e),Number(t)));return t instanceof Date?new Date(s):s}function pt(t){return t.replaceAll(/\W/g,"").length}var xe={day:31,month:12,year:9999};var ht=new Date("0001-01-01T00:00"),gt=new Date("9999-12-31T23:59:59.999"),te={hours:23,minutes:59,seconds:59,milliseconds:999},Ce={hours:0,minutes:0,seconds:0,milliseconds:0},D="\xA0";var yt=":",Et="\uFF1A",Y=new RegExp(`[${D}APM]+$`,"g"),j=new RegExp(`${D}[AP]M$`,"g"),ne=[":","."],Ie={hours:2,minutes:2,seconds:2,milliseconds:3};var Pe=t=>{var e,n,s,r,o,i;return{day:(n=(e=t.match(/d/g))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0,month:(r=(s=t.match(/m/g))===null||s===void 0?void 0:s.length)!==null&&r!==void 0?r:0,year:(i=(o=t.match(/y/g))===null||o===void 0?void 0:o.length)!==null&&i!==void 0?i:0}};function vt(t){return{day:String(t.getDate()).padStart(2,"0"),month:String(t.getMonth()+1).padStart(2,"0"),year:String(t.getFullYear()).padStart(4,"0"),hours:String(t.getHours()).padStart(2,"0"),minutes:String(t.getMinutes()).padStart(2,"0"),seconds:String(t.getSeconds()).padStart(2,"0"),milliseconds:String(t.getMilliseconds()).padStart(3,"0")}}var bt=["day","month","year"];function wt(t){return[...bt].sort((e,n)=>t.indexOf(e[0])>t.indexOf(n[0])?1:-1)}function St(t,e){return t.length<e.length?!1:t.split(/\D/).every(n=>!/^0+$/.exec(n))}function Ne(t,e,n){let s=pt(e);return t.replace(n,"").match(new RegExp(`(\\D*\\d[^\\d\\s]*){1,${s}}`,"g"))||[]}function se(t,e){let n=e.replaceAll(/[^dmy]/g,""),s=t.replaceAll(/\D+/g,""),r={day:s.slice(n.indexOf("d"),n.lastIndexOf("d")+1),month:s.slice(n.indexOf("m"),n.lastIndexOf("m")+1),year:s.slice(n.indexOf("y"),n.lastIndexOf("y")+1)};return Object.fromEntries(Object.entries(r).filter(([o,i])=>!!i).sort(([o],[i])=>e.toLowerCase().indexOf(o.slice(0,1))>e.toLowerCase().indexOf(i.slice(0,1))?1:-1))}function At(t,e){var n,s,r,o,i,a,c;let l=((n=t.year)===null||n===void 0?void 0:n.length)===2?`20${t.year}`:t.year,u=new Date(Number(l??"0"),Number((s=t.month)!==null&&s!==void 0?s:"1")-1,Number((r=t.day)!==null&&r!==void 0?r:"1"),Number((o=e?.hours)!==null&&o!==void 0?o:"0"),Number((i=e?.minutes)!==null&&i!==void 0?i:"0"),Number((a=e?.seconds)!==null&&a!==void 0?a:"0"),Number((c=e?.milliseconds)!==null&&c!==void 0?c:"0"));return u.setFullYear(Number(l??"0")),u}var ke=", ";function P({day:t,month:e,year:n,hours:s,minutes:r,seconds:o,milliseconds:i},{dateMode:a,dateTimeSeparator:c=ke,timeMode:l}){var u;let m=((u=a.match(/y/g))===null||u===void 0?void 0:u.length)===2?n?.slice(-2):n;return(a+(l?c+l:"")).replaceAll(/d+/g,t??"").replaceAll(/m+/g,e??"").replaceAll(/y+/g,m??"").replaceAll(/H+/g,s??"").replaceAll("MSS",i??"").replaceAll(/M+/g,r??"").replaceAll(/S+/g,o??"").replaceAll(/^\D+/g,"").replaceAll(/\D+$/g,"")}function Mt({dateString:t,dateModeTemplate:e,dateSegmentsSeparator:n,offset:s,selection:[r,o]}){var i,a;let c=se(t,e),l=Object.entries(c),u=wt(e),m={};for(let p=0;p<l.length;p++){let[g,y]=l[p],v=P(m,{dateMode:e}),A=xe[g],E=v.length&&n.length,S=s+v.length+E+Pe(e)[g],w=S>=r&&S===o;if(w&&Number(y)>Number(A)){let b=u[u.indexOf(g)+1];if(!b||b==="year")return{validatedDateString:"",updatedSelection:[r,o]};m[g]=`0${y.slice(0,-1)}`,l[p+1]=[b,y.slice(-1)+((a=(i=l[p+1])===null||i===void 0?void 0:i[1])!==null&&a!==void 0?a:"").slice(1)];continue}if(w&&Number(y)<1)return{validatedDateString:"",updatedSelection:[r,o]};m[g]=y}let f=P(m,{dateMode:e}),h=f.length-t.length;return{validatedDateString:f,updatedSelection:[r+h,o+h]}}function G(t){return t}function _e(){}var He=/[\\^$.*+?()[\]{}|]/g,$t=new RegExp(He.source);function W(t){return t&&$t.test(t)?t.replaceAll(He,String.raw`\$&`):t}function Lt(t,e){let n="";for(let s=0;s<t.length;s++){if(t[s]!==e[s])return n;n+=t[s]}return n}var Tt=/^0+$/;function q(t,e,n=0){let s=t.padEnd(e.length,"0");if(Number(s)<=Number(e))return{validatedSegmentValue:t,prefixedZeroesCount:n};if(s.endsWith("0"))return q(`0${t.slice(0,e.length-1)}`,e,n+1);let r=t.slice(0,e.length-1);return Tt.exec(r)?{validatedSegmentValue:"",prefixedZeroesCount:n}:q(`${r}0`,e,n)}function Le(t){return t.replaceAll(new RegExp(Et,"g"),yt)}function Te(t){return t.replaceAll(/[０-９]/g,e=>String.fromCharCode(e.charCodeAt(0)-65248))}function Dt(){return({elementState:t,data:e})=>{let{value:n,selection:s}=t;return{elementState:{selection:s,value:Le(n)},data:Le(e)}}}function Rt({dateModeTemplate:t,dateSegmentSeparator:e,splitFn:n,uniteFn:s}){return({value:r,selection:o})=>{var i;let[a,c]=o,{dateStrings:l,restPart:u=""}=n(r),m=[],f=0;l.forEach(p=>{let g=se(p,t),v=Object.entries(g).reduce((A,[E,S])=>{let{validatedSegmentValue:w,prefixedZeroesCount:b}=q(S,`${xe[E]}`);return f+=b,Object.assign(Object.assign({},A),{[E]:w})},{});m.push(P(v,{dateMode:t}))});let h=s(m,r)+(!((i=l[l.length-1])===null||i===void 0)&&i.endsWith(e)?e:"")+u;return f&&h.slice(c+f,c+f+e.length)===e&&(f+=e.length),{selection:[a+f,c+f],value:h}}}function Oe(){return({elementState:t,data:e})=>{let{value:n,selection:s}=t;return{elementState:{selection:s,value:Te(n)},data:Te(e)}}}function xt(t){return Array.from(t.replace(" AA","")).map(e=>ne.includes(e)?e:/\d/).concat(t.includes("AA")?[D,/[AP]/i,/M/i]:[])}function Ct(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>[n,e(String(s),Ie[n])]))}function It(t){return Ct(t,(e,n)=>e.padStart(n,"0"))}var De={HH:"hours",MM:"minutes",SS:"seconds",MSS:"milliseconds"};function Fe(t,e){let n=t.replaceAll(/\D+/g,""),s=0;return Object.fromEntries(e.split(/\W/).filter(r=>De[r]).map(r=>{let o=n.slice(s,s+r.length);return s+=r.length,[De[r],o]}))}var Pt=/^\D*/,Nt=/\D*$/;function kt({hours:t="",minutes:e="",seconds:n="",milliseconds:s=""}){return`${t}:${e}:${n}.${s}`.replace(Pt,"").replace(Nt,"")}var _t=new RegExp(`[${ne.map(W).join("")}]$`);function Ht({value:t,selection:e},{mode:n,timeSegmentMaxValues:s=te}){let[r,o]=e,i=Fe(t,n),a=Object.entries(i),c=It(s),l={},u=0;for(let[v,A]of a){let E=c[v],{validatedSegmentValue:S,prefixedZeroesCount:w}=q(A,String(E));u+=w,l[v]=S}let[m=""]=t.match(/^\D+(?=\d)/g)||[],[f=""]=t.match(/\D+$/g)||[],h=m+kt(l)+f,p=Math.max(h.length-t.length-u,0),g=r+u+p,y=o+u+p;return g===y&&u&&h.slice(0,y+1).match(_t)&&(g++,y++),{value:h,selection:[g,y]}}function Ot({timeMode:t,timeSegmentMinValues:e=Ce,timeSegmentMaxValues:n=te,parseValue:s=r=>({timeString:r})}){let r=new RegExp(`[^\\d${ne.map(W).join("")}]+`);return({elementState:o,data:i},a)=>{if(a!=="insert")return{elementState:o,data:i};let{value:c,selection:l}=o,[u,m]=l,f=i.replace(r,""),h=m+f.length,p=c.slice(0,u)+f+c.slice(h),{timeString:g,restValue:y=""}=s(p),v=Object.entries(Fe(g,t)),A=y.length;for(let[E,S]of v){let w=e[E],b=n[E],$=Number(S),k=A+Ie[E];if(k>=u&&k<=h&&$!==Re($,w,b))return{elementState:o,data:""};A+=S.length+1}return{elementState:o,data:i}}}function Ft(t){if(!t.includes("AA"))return G;let e=/^[AP]$/gi;return({elementState:n,data:s})=>{let{value:r,selection:o}=n,i=r.toUpperCase(),a=s.toUpperCase();return i.match(j)&&a.match(e)?{elementState:{value:i.replaceAll(j,""),selection:o},data:`${a}M`}:{elementState:{selection:o,value:i},data:a}}}function Vt(t){return t.includes("AA")?({value:e,selection:n},s)=>{if(!e.match(Y)||e.match(j))return{value:e,selection:n};let[r,o]=n;if(s.value.match(j)){let c=e.replace(Y,"");return{value:c,selection:[Math.min(r,c.length),Math.min(o,c.length)]}}let i=`${D}${e.includes("P")?"P":"A"}M`,a=e.replace(Y,c=>c!==D?i:c);return{value:a,selection:o>=a.indexOf(i)?[a.length,a.length]:n}}:G}function Ut(t,e){let n=Pe(e);return Object.fromEntries(Object.entries(t).map(([s,r])=>{let o=n[s];return[s,r.length===o&&/^0+$/.exec(r)?"1".padStart(o,"0"):r]}))}var Bt="1972";function Yt({dateModeTemplate:t,min:e=ht,max:n=gt,rangeSeparator:s="",dateSegmentSeparator:r="."}){return({value:o,selection:i})=>{let a=s&&o.endsWith(s),c=Ne(o,t,s),l="";for(let u of c){l+=l?s:"";let m=se(u,t);if(!St(u,t)){let p=Ut(m,t),g=P(p,{dateMode:t}),y=u.endsWith(r)?r:"";l+=g+y;continue}let f=At(Object.assign({year:Bt},m)),h=Re(f,e,n);l+=P(vt(h),{dateMode:t})}return{selection:i,value:l+(a?s:"")}}}function jt({dateModeTemplate:t,dateSegmentsSeparator:e,rangeSeparator:n="",dateTimeSeparator:s=ke}){return({elementState:r,data:o})=>{let i=t.split(e),a=o.includes(s),c=o.slice(0,a?o.indexOf(s):1/0).split(/\D/).filter(Boolean);if(!c.length||c.length%i.length!==0)return{elementState:r,data:o};let l=c.reduce((u,m,f)=>{var h;let p=(h=i[f%i.length])!==null&&h!==void 0?h:"",g=Math.trunc(f/i.length),y=f%i.length===i.length-1;return u[g]||(u[g]=""),u[g]+=y?m:`${m.padStart(p.length,"0")}${e}`,u},[]);return{elementState:r,data:a?`${l[0]}${o.slice(o.indexOf(s))}`:l.join(n)}}}function qt(t){let e=new RegExp(`${W(t)}$`);return t?({value:n,selection:s},r)=>{if(!n&&!r.value.endsWith(t))return{value:n,selection:s};if(!n.endsWith(t)&&!r.value.endsWith(t))return{selection:s,value:n+t};let o=r.value.replace(e,""),i=r.selection[1]>o.length,a=Lt(o,n);return{selection:s,value:Array.from(t).reverse().reduce((c,l,u)=>{let m=c.length-1-u,f=a[m]===l&&i;return c[m]!==l||f?c.slice(0,m+1)+l+c.slice(m+1):c},n)}}:G}function Gt(t){return t?({value:e,selection:n},s)=>{if(e.startsWith(t)||!e&&!s.value.startsWith(t))return{value:e,selection:n};let[r,o]=n,i=Array.from(t).reduce((c,l,u)=>c[u]===l?c:c.slice(0,u)+l+c.slice(u),e),a=i.length-e.length;return{selection:[r+a,o+a],value:i}}:G}function Wt({dateModeTemplate:t,dateSegmentsSeparator:e,rangeSeparator:n=""}){return({elementState:s,data:r})=>{let{value:o,selection:i}=s;if(r===e)return{elementState:s,data:i[0]===o.length?r:""};if(!r.replaceAll(/\D/g,""))return{elementState:s,data:r};let a=r.replaceAll(new RegExp(`[^\\d${W(e)}${n}]`,"g"),""),[c,l]=i,u=l+r.length,m=o.slice(0,c)+a+o.slice(u),f=Ne(m,t,n),h="",p=!!n&&m.includes(n);for(let y of f){let{validatedDateString:v,updatedSelection:A}=Mt({dateString:y,dateModeTemplate:t,dateSegmentsSeparator:e,offset:h.length,selection:[c,u]});if(y&&!v)return{elementState:s,data:""};u=A[1],h+=p&&!h?v+n:v}let g=h.slice(c,u);return{elementState:{selection:i,value:h.slice(0,c)+g.split(e).map(y=>"0".repeat(y.length)).join(e)+h.slice(u)},data:g}}}function Kt(t){return t<0?_e:e=>{let n=s=>{let r=Number(e.selectionStart),o=e.value.toUpperCase();if(s.key!=="ArrowUp"&&s.key!=="ArrowDown"||r<t)return;s.preventDefault();let i=o.includes("A")?"P":o.includes("P")||s.key==="ArrowUp"?"A":"P",a=`${D}${i}M`;ee(e,{value:o.length===t?o+a:o.replace(Y,a),selection:[r,r]})};return e.addEventListener("keydown",n),()=>e.removeEventListener("keydown",n)}}function zt({step:t,fullMode:e,timeSegmentMaxValues:n}){let s=Zt(e);return t<=0?_e:r=>{let o=i=>{var a;if(i.key!=="ArrowUp"&&i.key!=="ArrowDown")return;i.preventDefault();let c=(a=r.selectionStart)!==null&&a!==void 0?a:0,l=Xt({segmentsIndexes:s,selectionStart:c});if(!l)return;let u=Jt({selection:s.get(l),value:r.value,toAdd:i.key==="ArrowUp"?t:-t,max:n[l]});ee(r,{value:u,selection:[c,c]})};return r.addEventListener("keydown",o),()=>r.removeEventListener("keydown",o)}}function Zt(t){return new Map([["hours",B(t,"HH")],["milliseconds",B(t,"MSS")],["minutes",B(t,"MM")],["seconds",B(t,"SS")]])}function B(t,e){let n=t.indexOf(e);return n===-1?[-1,-1]:[n,n+e.length]}function Xt({segmentsIndexes:t,selectionStart:e}){for(let[n,s]of t.entries()){let[r,o]=s;if(r<=e&&e<=o)return n}return null}function Jt({selection:t,value:e,toAdd:n,max:s}){let[r,o]=t,i=Number(e.slice(r,o).padEnd(o-r,"0")),a=Qt(i+n,s+1);return e.slice(0,r)+String(a).padStart(o-r,"0")+e.slice(o,e.length)}function Qt(t,e){return t<0&&(t+=Math.floor(Math.abs(t)/e+1)*e),t%e}function Ve(t=""){let e=(n,[s,r])=>r>=n.length-t.length;return({elementState:n},s)=>{let{value:r,selection:o}=n;if(!r||e(r,o))return{elementState:n};let[i,a]=o,c=r.slice(i,a).replaceAll(/\d/g,"0"),l=r.slice(0,i)+c+r.slice(a);return c.replaceAll(/\D/g,"")?s==="validation"||s==="insert"&&i===a?{elementState:{selection:o,value:l}}:{elementState:{selection:s==="deleteBackward"||s==="insert"?[i,i]:[a,a],value:l}}:{elementState:n}}}function Ue({mode:t,separator:e=".",max:n,min:s}){let r=t.split("/").join(e);return Object.assign(Object.assign({},V),{mask:Array.from(r).map(o=>e.includes(o)?o:/\d/),overwriteMode:"replace",preprocessors:[Oe(),Ve(),jt({dateModeTemplate:r,dateSegmentsSeparator:e}),Wt({dateModeTemplate:r,dateSegmentsSeparator:e})],postprocessors:[Rt({dateModeTemplate:r,dateSegmentSeparator:e,splitFn:o=>({dateStrings:[o]}),uniteFn:([o=""])=>o}),Yt({min:s,max:n,dateModeTemplate:r,dateSegmentSeparator:e})]})}var Sn=Intl.DateTimeFormat("en-US",{month:"2-digit",day:"2-digit",year:"numeric"});function K({mode:t,timeSegmentMaxValues:e={},timeSegmentMinValues:n={},step:s=0,prefix:r="",postfix:o=""}){let i=t.includes("AA"),a=Object.assign(Object.assign(Object.assign({},te),i?{hours:12}:{}),e),c=Object.assign(Object.assign(Object.assign({},Ce),i?{hours:1}:{}),n),l=[...r,...xt(t)];return{mask:o?({value:u})=>en(l,u).concat(...o):l,preprocessors:[Oe(),Dt(),Ve(o),Ft(t),Ot({timeMode:t,timeSegmentMinValues:c,timeSegmentMaxValues:a})],postprocessors:[Vt(t),u=>Ht(u,{mode:t,timeSegmentMaxValues:a}),Gt(r),qt(o)],plugins:[zt({fullMode:t,step:s,timeSegmentMaxValues:a}),Kt(t.indexOf("AA"))],overwriteMode:"replace"}}function en(t,e){let n=Math.min(e.replaceAll(/\D/g,"").length,t.filter(r=>typeof r!="string").length)||1,s=t.findIndex(r=>typeof r!="string"&&!--n)+1;return t.slice(0,s)}var tn="0.1.119",le=(()=>{let t=new URLSearchParams(window.location.search);if(t.has("cd-debug"))return t.get("cd-debug")==="true";try{return localStorage.getItem("cd-debug")==="true"}catch{return!1}})(),d=(...t)=>le&&console.log(...t),ce=(...t)=>le&&console.warn(...t),N=(...t)=>console.log(...t),nn=(...t)=>console.error(...t);function ue(t){let e=t.toLowerCase().trim().replace(/\s+/g," ");return e==="date:mmddyyyy"?{type:"date",pattern:"mmddyyyy"}:e==="date:ddmmyyyy"?{type:"date",pattern:"ddmmyyyy"}:e==="time:hhmm am"||e==="time:hhmm"?{type:"time",pattern:"hhmm",defaultMeridiem:"AM"}:e==="time:hhmm pm"?{type:"time",pattern:"hhmm",defaultMeridiem:"PM"}:e==="time:h:mm am"||e==="time:h:mm"?{type:"time",pattern:"h:mm",defaultMeridiem:"AM"}:e==="time:h:mm pm"?{type:"time",pattern:"h:mm",defaultMeridiem:"PM"}:e==="time:hh:mm"||e==="time:hh:mm am"?{type:"time",pattern:"hh:mm",defaultMeridiem:"AM"}:e==="time:hh:mm pm"?{type:"time",pattern:"hh:mm",defaultMeridiem:"PM"}:e==="number"?{type:"number",pattern:"number"}:e==="percent"?{type:"percent",pattern:"percent"}:null}function de(t){if(t.type==="date"){let e=t.pattern==="mmddyyyy"?"mm/dd/yyyy":"dd/mm/yyyy";return Ue({mode:e,separator:"/"})}else{if(t.type==="time")return t.pattern==="h:mm"?t.defaultMeridiem!==void 0?{mask:[/\d/,/\d?/,":",/\d/,/\d/," ",/[APap]/,/[Mm]/],preprocessors:[({elementState:n,data:s})=>{let r=n.value.replace(/[^\d]/g,"");if(/^\d+$/.test(s)){let o=r+s;if(o.length===1)return{elementState:n,data:o+":"};if(o.length===2)return parseInt(o)>12?{elementState:n,data:o[0]+":"+o[1]}:{elementState:n,data:o+":"};if(o.length===3)return{elementState:n,data:o[0]+":"+o.slice(1)+" "+t.defaultMeridiem};if(o.length===4)return{elementState:n,data:o.slice(0,2)+":"+o.slice(2)+" "+t.defaultMeridiem}}if(/[apAP]/i.test(s)){let o=s.toUpperCase();if(o==="A"||o==="P")return{elementState:n,data:" "+o+"M"};if(o==="AM"||o==="PM")return{elementState:n,data:" "+o}}return{elementState:n,data:s}}],postprocessors:[({value:n,selection:s})=>{let r=n.match(/^(\d{1,2}):(\d{2})(\s+(AM|PM))?/i);if(r){let o=parseInt(r[1]),i=parseInt(r[2]),a=r[4]?.toUpperCase()||t.defaultMeridiem;return o<1||o>12||i>59?{value:n.slice(0,-1),selection:s}:{value:`${o}:${i.toString().padStart(2,"0")} ${a}`,selection:s}}return{value:n,selection:s}}]}:{mask:[/\d/,/\d?/,":",/\d/,/\d/],preprocessors:[({elementState:n,data:s})=>{if(/^\d+$/.test(s)){let o=n.value.replace(/[^\d]/g,"")+s;if(o.length===1)return{elementState:n,data:o+":"};if(o.length===3)return{elementState:n,data:o[0]+":"+o.slice(1)};if(o.length===4)return{elementState:n,data:o.slice(0,2)+":"+o.slice(2)}}return{elementState:n,data:s}}]}:t.pattern==="hh:mm"?t.defaultMeridiem!==void 0?K({mode:"HH:MM AA"}):K({mode:"HH:MM"}):K({mode:"HH:MM AA"});if(t.type==="number")return{mask:/^-?\d+(,\d{3})*(\.\d+)?$/,preprocessors:[({elementState:e,data:n})=>{let s=e.value.replace(/,/g,""),r=n.replace(/,/g,"");return{elementState:{...e,value:s},data:r}}],postprocessors:[({value:e,selection:n})=>{if(e&&/^-?\d+(\.\d*)?$/.test(e)){let s=e.split("."),r=s[0],o=s[1],i=r.replace(/\B(?=(\d{3})+(?!\d))/g,",");return{value:o!==void 0?`${i}.${o}`:i,selection:[n[0],n[1]]}}return{value:e,selection:n}}]};if(t.type==="percent")return{mask:/^\d{0,3}(\.\d{0,2})?%?$/,preprocessors:[({elementState:e,data:n})=>{let s=e.value.replace("%",""),r=n.replace("%","");return{elementState:{...e,value:s},data:r}}],postprocessors:[({value:e,selection:n})=>e&&!e.endsWith("%")?{value:e+"%",selection:[n[0],n[1]]}:{value:e,selection:n}]}}return null}function sn(t){t.querySelectorAll("input[data-input]").forEach((n,s)=>{let r=n,o=r.getAttribute("data-input");if(!o)return;let i=ue(o);if(!i)return;let a=de(i);if(!a)return;let c=new T(r,a);r.dispatchEvent(new CustomEvent("cd:inputformat:bound",{bubbles:!0}));let l=r.value;r.addEventListener("input",()=>{let u=r.value;u!==l&&(r.dispatchEvent(new CustomEvent("cd:inputformat:changed",{bubbles:!0,detail:{raw:l,formatted:u}})),l=u)}),r.addEventListener("blur",()=>{let u=r.value.length===0||r.checkValidity();r.setAttribute("aria-invalid",(!u).toString()),u||r.dispatchEvent(new CustomEvent("cd:inputformat:invalid",{bubbles:!0}))}),r.__maskito=c})}function rn(){let t=document.querySelectorAll("[data-show-when]"),e=new Map;t.forEach((n,s)=>{let r=n.getAttribute("data-show-when");if(!r)return;let[o,i]=r.split("=").map(a=>a.trim());!o||i===void 0||(e.has(o)||e.set(o,new Set),e.get(o).add(n),Be(n,o,i))}),e.forEach((n,s)=>{document.querySelectorAll(`input[name="${s}"], select[name="${s}"], textarea[name="${s}"]`).forEach(o=>{o.addEventListener("change",()=>{n.forEach(i=>{let a=i.getAttribute("data-show-when");if(!a)return;let[,c]=a.split("=").map(l=>l.trim());Be(i,s,c)})})})})}function Be(t,e,n){let s=document.querySelectorAll(`input[name="${e}"], select[name="${e}"], textarea[name="${e}"]`),r="";s.forEach(a=>{let c=a;if(c.type==="radio"||c.type==="checkbox"){let l=c;l.checked&&(r=l.value)}else r=c.value});let o=r===n,i=t;o?(i.style.display="",i.removeAttribute("aria-hidden"),i.querySelectorAll("input, select, textarea, button, [tabindex]").forEach(c=>{c.removeAttribute("tabindex")}),t.dispatchEvent(new CustomEvent("form-wrapper-visibility:shown",{bubbles:!0}))):(i.style.display="none",i.setAttribute("aria-hidden","true"),i.querySelectorAll('input, select, textarea, button, [tabindex]:not([tabindex="-1"])').forEach(c=>{c.setAttribute("tabindex","-1")}),t.dispatchEvent(new CustomEvent("form-wrapper-visibility:hidden",{bubbles:!0})))}var Z=new Map;function on(){N("\u{1F504} Initializing Dynamic Rows...");let t=document.querySelectorAll("[data-cd-repeat-group]");if(d("\u{1F50D} Found repeat groups:",t.length),t.length===0){ce("\u26A0\uFE0F No elements found with data-cd-repeat-group attribute");let e=document.querySelectorAll("[data-repeat-group], [data-cd-repeater-group], [data-repeater-group]");d("\u{1F50D} Found elements with similar attributes:",e.length),e.length>0&&(d("\u{1F50D} First possible group:",e[0]),d("\u{1F50D} Its attributes:",Array.from(e[0].attributes).map(n=>`${n.name}="${n.value}"`)));return}t.forEach((e,n)=>{d(`\u{1F3AF} Processing Group ${n+1}:`,e.tagName,e.className);let s=e.getAttribute("data-cd-repeat-group");if(d("\u{1F50D} Group name:",s),!s){nn("\u274C No group name found, skipping");return}let r=window.getComputedStyle(e),o=r.display==="none";if(d("\u{1F50D} Container display/hidden:",r.display,o),o){d("\u23ED\uFE0F Skipping hidden container (will reinitialize when shown)");return}d("\u2705 Proceeding to initialize group:",s),Ke(s,e)}),N("\u2705 Dynamic rows initialization complete")}function Ke(t,e){let n=e.querySelector("[data-cd-repeat-template]"),s=e.querySelector("[data-cd-add-row]")||e.querySelector(`[data-cd-repeat-add="${t}"]`);if(!s&&(e.parentElement&&(s=e.parentElement.querySelector(`[data-cd-repeat-add="${t}"]`)||e.parentElement.querySelector("[data-cd-add-row]")),s||(s=document.querySelector(`[data-cd-repeat-add="${t}"]`)),!s)){let l=document.querySelectorAll("[data-cd-add-row], [data-cd-repeat-add]");for(let u of Array.from(l)){let m=u.getAttribute("data-cd-repeat-add"),f=u.getAttribute("data-cd-add-row");if(m===t||f===t||u.textContent?.toLowerCase().includes(t.toLowerCase())){s=u;break}}}let r=e.getAttribute("data-cd-name-pattern")||`${t}[{i}][{field}]`;if(d(`\u{1F527} Initializing group: "${t}"`,e.tagName,!!n,!!s),!s){ce(`\u274C No add button found for group "${t}". Checked selectors: [data-cd-add-row], [data-cd-repeat-add="${t}"]`);let l=document.querySelectorAll("[data-cd-add-row], [data-cd-repeat-add]");d("\u{1F50D} Total add buttons in document:",l.length),le&&l.length>0&&l.forEach((u,m)=>{d(`  ${m+1}. ${u.tagName} - data-cd-repeat-add: "${u.getAttribute("data-cd-repeat-add")}" - data-cd-add-row: "${u.getAttribute("data-cd-add-row")}"`)})}if(n)d("\u2705 Template found:",n.tagName,n.className),n.style.display="none";else{d("\u{1F50D} No template found, searching for existing rows...");let l=e.querySelector("[data-cd-repeat-row]");if(d("\u{1F50D} First existing row found:",!!l),l){d("\u{1F50D} First row details:",l.tagName,l.className),n=l.cloneNode(!0),n.setAttribute("data-cd-repeat-template","");let u=n.querySelectorAll("input, select, textarea");d("\u{1F50D} Clearing",u.length,"input values in template"),u.forEach(m=>{m.value=""}),n.style.display="none",e.insertBefore(n,l),d(`\u2705 Created and hid template from first row for group "${t}"`)}else{d("\u{1F50D} Searching for elements with similar row attributes...");let u=e.querySelectorAll("[data-repeat-row], [data-cd-repeater-row], [data-repeater-row]");d("\u{1F50D} Found possible rows:",u.length),u.length>0&&(d("\u{1F50D} First possible row:",u[0]),d("\u{1F50D} Its attributes:",Array.from(u[0].attributes).map(m=>`${m.name}="${m.value}"`)))}}if(!n){console.error("\u274C No template available, cannot initialize group");return}let o=Array.from(e.querySelectorAll("[data-cd-repeat-row]:not([data-cd-repeat-template])"));if(d("\u{1F50D} Found existing data rows:",o.length),o.forEach((l,u)=>{d(`\u{1F50D} Existing row ${u+1}:`,{tag:l.tagName,class:l.className,"data-cd-repeat-row":l.getAttribute("data-cd-repeat-row")})}),o.length===0){d("\u{1F50D} No existing data rows, creating first row from template...");let l=n.cloneNode(!0);l.removeAttribute("data-cd-repeat-template");let u=l;u.style.cssText=u.style.cssText.replace(/display\s*:\s*[^;]+;?/,"")+" display: grid !important;",e.appendChild(l),o.push(l)}else if(o.forEach((l,u)=>{let m=l;u===0?(m.style.cssText=m.style.cssText.replace(/display\s*:\s*[^;]+;?/,"")+" display: grid !important;",m.removeAttribute("aria-hidden"),d(`\u{1F50D} Keeping first row visible: row ${u+1}`)):(m.style.display="none",m.setAttribute("aria-hidden","true"),d(`\u{1F50D} Hiding extra row: row ${u+1}`))}),o.length>1){d(`\u{1F50D} Removing ${o.length-1} extra rows from DOM`);for(let l=1;l<o.length;l++)o[l].remove();o.splice(1)}let i={groupName:t,container:e,template:n,namePattern:r,rows:o,addButton:s};Z.set(t,i),s?(d(`\u2795 Attaching add button listener for group "${t}"`),s.removeEventListener("click",Ye),s.addEventListener("click",Ye)):console.warn(`\u274C No add button found for group "${t}". Checked selectors: [data-cd-add-row], [data-cd-repeat-add="${t}"]`);let a=e.querySelectorAll("[data-cd-remove-row], [data-cd-repeat-remove]");d(`\u{1F517} Found ${a.length} remove buttons for group "${t}"`),a.forEach(l=>{let u=l.getAttribute("data-cd-repeat-remove");u&&d(`\u{1F517} Remove button references group: "${u}" (should be "${t}")`),l.removeEventListener("click",ie),l.addEventListener("click",ie)});let c=o[0];if(c){let l=c.querySelector("[data-cd-remove-row], [data-cd-repeat-remove]");l&&(l.style.visibility="hidden",l.style.pointerEvents="none",d(`\u{1F441}\uFE0F Hide remove button on first row for group "${t}"`))}an(i),me(i),fe(i)}function an(t){d(`\u{1F3A8} Applying formatting to ${t.rows.length} existing rows in group "${t.groupName}"`),t.rows.forEach((e,n)=>{let s=e.querySelectorAll("input[data-input]");d(`\u{1F3A8} Row ${n+1}: found ${s.length} inputs with data-input attribute`),s.forEach(r=>{let o=r,i=o.getAttribute("data-input");if(!i)return;d(`\u{1F3A8} Applying formatting to input: data-input="${i}"`);let a=ue(i);if(a){let c=de(a);if(c){o.__maskito&&o.__maskito.destroy();let l=new T(o,c);o.__maskito=l,o.dispatchEvent(new CustomEvent("cd:inputformat:bound",{bubbles:!0})),d(`\u2705 Maskito applied to existing input with data-input="${i}"`)}}})})}function Ye(t){t.preventDefault();let e=t.target,n=e.closest("[data-cd-repeat-add]")||e.closest("[data-cd-add-row]");if(!n){console.error("\u274C No add button found from clicked element");return}let s=n.getAttribute("data-cd-repeat-add")||n.getAttribute("data-cd-add-row");if(!s){console.error("\u274C No group name found on add button");return}if(!document.querySelector(`[data-cd-repeat-group="${s}"]`)){console.error(`\u274C No container found for group "${s}"`);return}let o=Z.get(s);if(!o){console.error(`\u274C No group found in activeGroups for "${s}"`);return}ln(o)}function ie(t){t.preventDefault();let e=t.target,n=e.closest("[data-cd-repeat-group]");if(!n)return;let s=n.getAttribute("data-cd-repeat-group");if(!s)return;let r=Z.get(s);if(!r)return;let o=un(r,e);o&&dn(r,o.row)}function ln(t){if(d(`\u2795 Adding new row to group "${t.groupName}" (currently ${t.rows.length} rows)`),t.rows.length>=5){ce(`\u26A0\uFE0F Maximum rows reached for group "${t.groupName}" (5 rows max)`),t.addButton&&(t.addButton.style.opacity="0.5",t.addButton.style.pointerEvents="none");return}let e=t.container.querySelector("[data-cd-repeat-template]");if(!e){console.error("\u274C No template found to clone");return}let n=e.cloneNode(!0);n.removeAttribute("data-cd-repeat-template"),n.querySelectorAll("input, select, textarea").forEach(i=>{let a=i;a.value="";let c=a.getAttribute("data-input");if(c){d(`\u2795 Applying formatting to new input: data-input="${c}"`);let l=ue(c);if(l){let u=de(l);if(u){a.__maskito&&a.__maskito.destroy();let m=new T(a,u);a.__maskito=m,a.dispatchEvent(new CustomEvent("cd:inputformat:bound",{bubbles:!0})),d(`\u2705 Maskito applied to new input with data-input="${c}"`)}}}});let r=n;r.classList.add("visible-row"),r.style.cssText=r.style.cssText.replace(/display\s*:\s*[^;]+;?/,"")+" display: grid !important;",r.removeAttribute("aria-hidden"),t.container.appendChild(n),t.rows.push(n);let o=n.querySelectorAll("[data-cd-remove-row], [data-cd-repeat-remove]");if(d(`\u2795 Attaching ${o.length} remove button listeners to new row`),o.forEach(i=>{i.addEventListener("click",ie)}),gn(n),me(t),fe(t),d(`\u2795 Row added successfully, new total: ${t.rows.length} rows`),t.rows.length>1){let a=t.rows[0].querySelector("[data-cd-remove-row], [data-cd-repeat-remove]");a&&(a.style.visibility="visible",a.style.pointerEvents="auto",d(`\u{1F441}\uFE0F Show remove button on first row (${t.rows.length} rows)`))}t.rows.length>=5&&t.addButton&&(t.addButton.style.opacity="0.5",t.addButton.style.pointerEvents="none"),n.dispatchEvent(new CustomEvent("cd:row:added",{bubbles:!0,detail:{groupName:t.groupName,rowIndex:t.rows.length-1}}))}function me(t){d(`\u{1F522} DYNAMIC: Reindexing ${t.rows.length} rows for group "${t.groupName}"`),t.rows.forEach((e,n)=>{let s=n+1,r=e.querySelectorAll("[data-cd-repeat-name]");d(`\u{1F522} DYNAMIC: Row ${s}: found ${r.length} inputs with data-cd-repeat-name`),r.forEach(a=>{let c=a.getAttribute("data-cd-repeat-name");if(c){let l=`${c}-${s}`;a.name=l,d(`\u{1F522} DYNAMIC: Row ${s}: Updated input name: ${c} \u2192 ${l}`)}}),e.querySelectorAll("[id]").forEach(a=>{let c=a.getAttribute("data-original-id");c?a.id=`${c}-${s}`:a.id.endsWith(`-${s}`)||(a.setAttribute("data-original-id",a.id),a.id=`${a.id}-${s}`)}),e.querySelectorAll("label[for]").forEach(a=>{let c=a.getAttribute("data-original-for");if(c)a.htmlFor=`${c}-${s}`;else{let l=a.htmlFor;l.endsWith(`-${s}`)||(a.setAttribute("data-original-for",l),a.htmlFor=`${l}-${s}`)}})}),d("\u{1F522} DYNAMIC: Dispatching input events to trigger summary updates"),t.rows.forEach((e,n)=>{let s=e.querySelectorAll("input, select, textarea");d(`\u{1F522} DYNAMIC: Row ${n+1}: dispatching events for ${s.length} inputs`),s.forEach(r=>{r.dispatchEvent(new Event("input",{bubbles:!0}))})}),d("\u{1F522} DYNAMIC: Summary fields will be synced by updateSummaries()")}function fe(t){d(`\u{1F4CA} SUMMARY: Updating summaries for group "${t.groupName}" (${t.rows.length} rows)`);let e=document.querySelectorAll(`[data-cd-summary-for="${t.groupName}"]`);d(`\u{1F4CA} SUMMARY: Found ${e.length} summary container(s) for group "${t.groupName}"`),e.forEach((s,r)=>{let o=s.querySelector("[data-cd-summary-template]");if(!o){console.warn(`\u{1F4CA} SUMMARY: No template found in summary container ${r} for group "${t.groupName}"`);return}let i=s.querySelectorAll("[data-summary-row]");d(`\u{1F4CA} SUMMARY: Removing ${i.length} existing summary rows from container ${r}`),i.forEach(a=>a.remove()),d(`\u{1F4CA} SUMMARY: Creating ${t.rows.length} new summary rows for container ${r}`),t.rows.forEach((a,c)=>{let l=c+1,u=o.cloneNode(!0);u.removeAttribute("data-cd-summary-template"),u.setAttribute("data-summary-row",""),u.style.display="";let m=u.querySelectorAll("[data-cd-input-field]");d(`\u{1F4CA} SUMMARY: Processing ${m.length} field elements in summary row ${l}`),m.forEach(f=>{let h=f.getAttribute("data-cd-input-field");if(h){let p=h.replace("{i}",l.toString());f.setAttribute("data-cd-input-field",p),d(`\u{1F4CA} SUMMARY: Updated field: ${h} \u2192 ${p}`)}}),s.appendChild(u)}),o&&(o.style.display="none",d(`\u{1F4CA} SUMMARY: Summary template hidden for container ${r}`))}),cn();let n=()=>{d(`\u{1F4CA} SUMMARY: *** RE-SYNCING ALL FIELDS *** for group "${t.groupName}"`),e.forEach(s=>{let r=s.querySelectorAll("[data-cd-input-field]");d(`\u{1F4CA} SUMMARY: Found ${r.length} field elements to re-sync`),r.forEach((o,i)=>{let a=o.getAttribute("data-cd-input-field");d(`\u{1F4CA} SUMMARY: Re-syncing field ${i+1}/${r.length}: "${a}"`),a&&z(o,a)})}),typeof window.TryFormly?.refresh=="function"&&(d("\u{1F4CA} SUMMARY: Triggering TryFormly.refresh() after re-sync"),window.TryFormly.refresh()),d("\u{1F4CA} SUMMARY: *** RE-SYNC COMPLETE ***")};e.forEach(s=>{s.addEventListener("form-wrapper-visibility:shown",()=>{d("\u{1F4CA} SUMMARY: *** CONTAINER BECAME VISIBLE (visibility event) ***"),n()})}),e.forEach(s=>{let r=s.closest('[data-form="step"]');r?(d(`\u{1F4CA} SUMMARY: Setting up form step observer for group "${t.groupName}"`),new MutationObserver(i=>{i.forEach(a=>{if(a.type==="attributes"&&a.attributeName==="style"){let c=a.target;c.style.display!=="none"&&c.offsetParent!==null&&(d("\u{1F4CA} SUMMARY: *** FORM STEP BECAME VISIBLE (MutationObserver) ***"),setTimeout(()=>n(),100))}})}).observe(r,{attributes:!0,attributeFilter:["style","class"]}),d(`\u{1F4CA} SUMMARY: Form step observer attached for group "${t.groupName}"`)):d(`\u{1F4CA} SUMMARY: No parent form step found for group "${t.groupName}"`)}),typeof window.TryFormly?.refresh=="function"&&(d("\u{1F4CA} SUMMARY: Triggering TryFormly.refresh()"),window.TryFormly.refresh())}function cn(){d("\u{1F504} SUMMARY: Syncing all summary fields...");let t=document.querySelectorAll("[data-cd-input-field]");d(`\u{1F504} SUMMARY: Found ${t.length} summary field elements`),t.forEach((e,n)=>{let s=e.getAttribute("data-cd-input-field");s&&(d(`\u{1F504} SUMMARY: Syncing field ${n+1}: "${s}"`),z(e,s))})}function z(t,e){let n=null;if(d(`\u{1F50D} SUMMARY: Syncing summary field: "${e}"`),e.includes("{i}")){d(`\u{1F50D} SUMMARY: Templated field detected: "${e}"`);let o=t.closest("[data-summary-row]");if(o){let i=o.parentElement,c=Array.from(i?.querySelectorAll("[data-summary-row]")||[]).indexOf(o)+1,l=e.replace("{i}",c.toString());if(l.includes("[")&&l.includes("]")){let u=l.match(/\[(\d+)\]\[([^\]]+)\]/);if(u){let m=u[1];l=`${u[2]}-${m}`,d(`\u{1F50D} SUMMARY: Converted bracket pattern: "${e}" \u2192 "${l}"`)}}d(`\u{1F50D} SUMMARY: Resolved templated field: "${e}" \u2192 "${l}"`),e=l}else{d(`\u{1F50D} SUMMARY: Could not resolve templated field "${e}" - no summary row context found`);return}}let s=[`input[name="${e}"]:not([data-cd-repeat-template])`,`select[name="${e}"]:not([data-cd-repeat-template])`,`textarea[name="${e}"]:not([data-cd-repeat-template])`,`input[name="${e}"]`,`select[name="${e}"]`,`textarea[name="${e}"]`,`input[id="${e}"]`,`select[id="${e}"]`,`textarea[id="${e}"]`];for(let o of s){let i=document.querySelectorAll(o);if(i.length!==0){for(let a of Array.from(i)){let c=a,l=a;if(c.offsetParent!==null&&l.value&&l.value.trim()){n=l,d(`\u{1F50D} Found visible source WITH VALUE using selector: ${o}, value="${l.value}"`);break}}if(n)break;d(`\u{1F50D} No visible elements with values found, searching ${i.length} hidden elements for one with a value...`);for(let a of Array.from(i)){let c=a,l=a;if(c.offsetParent===null&&l.value&&l.value.trim()){n=l,d(`\u{1F50D} Found hidden source WITH VALUE using selector: ${o}, value="${l.value}"`);break}}if(n)break;for(let a of Array.from(i))if(a.offsetParent!==null){n=a,d(`\u{1F50D} Found visible source (empty value) using selector: ${o}`);break}if(n)break;n=i[0],d(`\u{1F50D} Found source using first element (last resort): ${o}`);break}}if(!n){d(`\u{1F50D} SUMMARY: Direct match failed for field: "${e}"`);let a=Array.from(document.querySelectorAll("input[name], select[name], textarea[name]")).filter(c=>{let l=c.getAttribute("name");return l&&l.includes("-")}).map(c=>c.getAttribute("name"));d("\u{1F50D} SUMMARY: Available dynamic input names (with suffix pattern):",a),d(`\u{1F50D} SUMMARY: Looking for field name: "${e}"`);return}d(`\u{1F50D} SUMMARY: Found source element for "${e}":`,n.tagName,n.type||"");let r="";if(n.tagName.toLowerCase()==="input"||n.tagName.toLowerCase()==="textarea"){let o=n;d(`\u{1F50D} SUMMARY DEBUG: Input element value: "${o.value}"`),d(`\u{1F50D} SUMMARY DEBUG: Input element name: "${o.name}"`),d(`\u{1F50D} SUMMARY DEBUG: Input element id: "${o.id}"`),d(`\u{1F50D} SUMMARY DEBUG: Element visibility: display="${o.style.display}", parent visible="${o.offsetParent!==null}"`),d(`\u{1F50D} SUMMARY DEBUG: Element classes: "${o.className}"`);let i=document.querySelectorAll(`[name="${e}"]`);d(`\u{1F50D} SUMMARY DEBUG: Found ${i.length} elements with name="${e}"`),i.length>1&&i.forEach((a,c)=>{let l=a;d(`\u{1F50D} SUMMARY DEBUG: Element ${c+1}: value="${a.value}", visible="${l.offsetParent!==null}", classes="${l.className}"`)})}if(n.type==="radio"){let o=document.querySelector(`input[name="${e}"]:checked`);r=o?o.value:""}else n.type==="checkbox"?r=n.checked?"Yes":"No":r=n.value;if(t.textContent=r||"[Not specified]",d(`\u2705 SUMMARY: Updated summary for "${e}": "${r}" (empty: ${!r})`),n.__summaryListenerAdded)d(`\u23ED\uFE0F  SUMMARY: Event listener already exists for field "${e}", skipping`);else{let o=n.type==="radio"||n.type==="checkbox"?"change":"input";d(`\u{1F3A7} SUMMARY: Adding ${o} listener for field "${e}"...`),n.addEventListener(o,()=>{d(`\u{1F504} SUMMARY: *** FIELD INPUT EVENT FIRED *** Field "${e}" changed to: "${n.value}"`),z(t,e)}),n.type==="radio"&&document.querySelectorAll(`input[name="${e}"]`).forEach(a=>{a.__summaryListenerAdded||(a.addEventListener("change",()=>{d(`\u{1F504} SUMMARY: Radio "${e}" changed, updating summary...`),z(t,e)}),a.__summaryListenerAdded=!0)}),n.__summaryListenerAdded=!0,d(`\u2705 SUMMARY: Event listener successfully added for field "${e}"`)}}function un(t,e){for(let n=0;n<t.rows.length;n++){let s=t.rows[n];if(s.contains(e))return{row:s,index:n}}return null}function dn(t,e){if(d(`\u2796 Removing row from group "${t.groupName}" (currently ${t.rows.length} rows)`),t.rows.length<=1){console.warn("Cannot remove last row from group:",t.groupName);return}let n=t.rows.indexOf(e);if(n===-1){console.warn("Target row not found in group:",t.groupName);return}if(d(`\u2796 Removing row at index ${n}`),e.remove(),t.rows.splice(n,1),t.rows.length<5&&t.addButton&&(t.addButton.style.opacity="",t.addButton.style.pointerEvents="",d(`\u2705 Add button re-enabled for group "${t.groupName}"`)),me(t),fe(t),t.rows.length===1){let r=t.rows[0].querySelector("[data-cd-remove-row], [data-cd-repeat-remove]");r&&(r.style.visibility="hidden",r.style.pointerEvents="none",d("\u{1F441}\uFE0F Hide remove button on first row (back to 1 row)"))}d(`\u2796 Row removed successfully, new total: ${t.rows.length} rows`),e.dispatchEvent(new CustomEvent("cd:row:removed",{bubbles:!0,detail:{groupName:t.groupName,rowIndex:n,removedRow:e}}))}function mn(t,e){Ke(t,e)}var je="tooltip_component",ze="tooltip_element-wrapper",qe="tooltip_tooltip-wrapper",Ge="tooltip_pointer",re={bottom:"top",top:"bottom",left:"right",right:"left"},fn={top:{start:"left",end:"right",len:"width",translate:"translateX"},bottom:{start:"left",end:"right",len:"width",translate:"translateX"},left:{start:"top",end:"bottom",len:"height",translate:"translateY"},right:{start:"top",end:"bottom",len:"height",translate:"translateY"}};function pn(t){let e=t.closest(`.${je}`);if(e)return{mode:"standard",comp:e,panel:e.querySelector(`.${qe}`),pointer:e.querySelector(`.${Ge}`)};let n=t.closest("[data-tt-group]")||t.parentElement,s=t.getAttribute("data-tt"),r=s?n.querySelector(`.${je}[data-tt-for="${s}"]`):null;return{mode:"split",comp:r,panel:r?.querySelector(`.${qe}`),pointer:r?.querySelector(`.${Ge}`)}}function Ze(t){if(t.dataset._ttSetup)return;t.dataset._ttSetup="1";let e=pn(t),{mode:n,comp:s,panel:r,pointer:o}=e;if(!r||!o)return;let i=o.className.includes("is-left")?"left":o.className.includes("is-right")?"right":o.className.includes("is-bottom")?"bottom":"top";function a(){r&&(r.style.display="block",r.style.opacity="1")}function c(){r&&(r.style.opacity="0",r.style.display="none")}let l=!1,u=0;function m(){if(!l||!r||!o)return;requestAnimationFrame(m);let p=t.getBoundingClientRect(),g=r.getBoundingClientRect(),y=document.documentElement.clientWidth,v=document.documentElement.clientHeight,A={bottom:p.bottom+g.height<v,top:p.top-g.height>0,left:p.left-g.width>0,right:p.right+g.width<y},E=A[i]||!A[re[i]]?i:re[i];if(n==="standard"){let L=fn[E],pe=re[E],_=p[L.start],he=p[L.end],ge=g[L.len],ye=(_+he-ge)/2,Ee=(_+he+ge)/2,H=0,ve=E==="left"||E==="right"?v:y;ye<0?H=-ye:ve<Ee&&(H=ve-Ee),r.style.position="",r.style.transform=L.translate+"("+H+"px)",o.style.transform=L.translate+"("+-H+"px) rotate(45deg)";return}r.style.position="fixed";let S=8,w=Math.round(p.left+p.width/2-g.width/2),b=0;E==="bottom"?b=Math.round(p.bottom+S):E==="top"?b=Math.round(p.top-S-g.height):E==="left"?(b=Math.round(p.top+p.height/2-g.height/2),w=Math.round(p.left-S-g.width)):(b=Math.round(p.top+p.height/2-g.height/2),w=Math.round(p.right+S));let $=8;w=Math.max($,Math.min(w,y-g.width-$)),b=Math.max($,Math.min(b,v-g.height-$)),r.style.left=w+"px",r.style.top=b+"px",r.style.right="",r.style.bottom="",r.style.transform="none";let k=p.left+p.width/2,Qe=w+g.width/2,et=k-Qe;if(E==="top"||E==="bottom")o.style.transform="translateX("+et+"px) rotate(45deg)";else{let L=p.top+p.height/2,pe=b+g.height/2,_=L-pe;o.style.transform="translateY("+_+"px) rotate(45deg)"}}function f(){++u===1&&(a(),l=!0,m())}function h(){u>0&&--u===0&&(l=!1,c())}t.addEventListener("mouseenter",f),t.addEventListener("mouseleave",h),(s||r).addEventListener("mouseenter",f),(s||r).addEventListener("mouseleave",h),t.setAttribute("tabindex","0"),t.addEventListener("focus",f),t.addEventListener("blur",h),t.addEventListener("keydown",p=>{p.key==="Escape"&&h()})}function hn(t){d("\u{1F4AC} Initializing tooltips for form...");let e=t.querySelectorAll(`.${ze}`);d(`\u{1F4AC} Found ${e.length} tooltip triggers`),e.forEach(n=>Ze(n)),N(`\u2705 Tooltips initialized (${e.length} triggers)`)}function gn(t){d("\u{1F4AC} Reinitializing tooltips in new row...");let e=t.querySelectorAll(`.${ze}`);d(`\u{1F4AC} Found ${e.length} tooltip triggers in row`),e.forEach(n=>Ze(n))}document.addEventListener("form-wrapper-visibility:shown",t=>{t.target.querySelectorAll("[data-cd-repeat-group]").forEach(s=>{let r=s.getAttribute("data-cd-repeat-group");r&&mn(r,s)})});var Xe={};function yn(){N("\u{1F33F} Initializing Branch-Based Summary Visibility...");let t=document.querySelectorAll("[data-cd-summary-branch]");d(`\u{1F33F} Found ${t.length} branch summary elements to hide by default`),t.forEach((n,s)=>{let r=n;r.style.display="none",r.setAttribute("aria-hidden","true"),d(`\u{1F33F} Hidden branch summary ${s+1}: ${r.tagName}.${r.className}`)}),new MutationObserver(n=>{n.forEach(s=>{s.type==="attributes"&&s.attributeName==="style"&&s.target.matches(".step_wrapper[data-cd-branch]")&&oe()}),n.forEach(s=>{s.addedNodes.forEach(r=>{if(r.nodeType===1){let o=r;o.matches&&o.matches(".step_wrapper[data-cd-branch]")&&oe()}})})}).observe(document.body,{attributes:!0,attributeFilter:["style"],childList:!0,subtree:!0}),oe(),En(),N("\u2705 Branch-based summary visibility initialization complete")}function oe(){d("\u{1F33F} BRANCH: Checking branch wrapper visibility..."),document.querySelectorAll(".step_wrapper[data-cd-branch]").forEach(e=>{let n=e;if(window.getComputedStyle(n).display!=="none"&&n.offsetParent!==null){let o=e.getAttribute("data-cd-branch"),i=e.getAttribute("data-answer");o&&i&&(Xe[o]=i,d(`\u{1F33F} BRANCH: Selected ${o} = ${i}`),Je(o,i))}})}function Je(t,e){d(`\u{1F33F} BRANCH: Updating summary visibility for ${t}:${e}`);let n=document.querySelectorAll(`[data-cd-summary-branch^="${t}:"]`);d(`\u{1F33F} BRANCH: Found ${n.length} summary sections for branch group "${t}"`),n.forEach((s,r)=>{let o=s.getAttribute("data-cd-summary-branch"),i=s;if(!o)return;let[a,c]=o.split(":"),l=a===t&&c===e;d(`\u{1F33F} BRANCH: Section ${r+1} (${o}): ${l?"SHOW":"HIDE"}`),l?(i.style.display="",i.removeAttribute("aria-hidden"),i.querySelectorAll("input, select, textarea, button, [tabindex]").forEach(m=>{m.removeAttribute("tabindex")}),s.dispatchEvent(new CustomEvent("cd:branch-summary:shown",{bubbles:!0,detail:{branchGroup:t,branchValue:e,summaryBranchAttr:o}}))):a===t&&(i.style.display="none",i.setAttribute("aria-hidden","true"),i.querySelectorAll('input, select, textarea, button, [tabindex]:not([tabindex="-1"])').forEach(m=>{m.setAttribute("tabindex","-1")}),s.dispatchEvent(new CustomEvent("cd:branch-summary:hidden",{bubbles:!0,detail:{branchGroup:t,branchValue:e,summaryBranchAttr:o}})))})}function En(){d("\u{1F33F} BRANCH: Updating all summary visibility based on selected branches"),Object.entries(Xe).forEach(([t,e])=>{Je(t,e)})}function We(){console.log("\u23ED\uFE0F [CD SKIP] Initializing Skip Navigation...");let t=document.querySelectorAll("[data-cd-skip]");console.log(`\u23ED\uFE0F [CD SKIP] Found ${t.length} skip buttons`),t.length>0?t.forEach((e,n)=>{let s=e.getAttribute("data-cd-skip");console.log(`\u23ED\uFE0F [CD SKIP] Button ${n+1}:`,{element:e,tagName:e.tagName,classList:e.className,targetStep:s}),e.addEventListener("click",vn)}):console.warn("\u26A0\uFE0F [CD SKIP] No buttons found with [data-cd-skip] attribute"),console.log(`\u2705 [CD SKIP] Skip navigation initialized (${t.length} buttons)`)}function vn(t){console.log("\u{1F5B1}\uFE0F [CD SKIP] ========== SKIP BUTTON CLICKED =========="),console.log("\u{1F5B1}\uFE0F [CD SKIP] Event:",t),t.preventDefault();let e=t.currentTarget,n=e.getAttribute("data-cd-skip");if(console.log("\u{1F50D} [CD SKIP] Button details:",{element:e,tagName:e.tagName,classList:e.className,"data-cd-skip":n}),!n){console.error("\u274C [CD SKIP] No target specified in data-cd-skip attribute");return}console.log("\u{1F3AF} [CD SKIP] LOOKING FOR MATCH:"),console.log(`   Button has: data-cd-skip="${n}"`),console.log(`   Searching for step with: data-answer="${n}"`);let s=document.querySelector(`[data-answer="${n}"]`);if(!s){console.error("\u274C [CD SKIP] ========== NO MATCH FOUND =========="),console.error(`   Button's data-cd-skip value: "${n}"`),console.error(`   Could not find any step with: data-answer="${n}"`);let l=document.querySelectorAll("[data-answer]");console.log(`
\u{1F4CB} [CD SKIP] Available steps (${l.length} total):`),l.forEach((u,m)=>{let f=u.getAttribute("data-answer"),h=f===n;console.log(`   ${h?"\u2705":"  "} ${m+1}. data-answer="${f}"${h?" \u2190 MATCH!":""}`)}),console.log(`
\u{1F4A1} [CD SKIP] TIP: Make sure data-cd-skip="${n}" matches one of the data-answer values above`);return}let r=s.getAttribute("data-answer");console.log("\u2705 [CD SKIP] ========== MATCH FOUND =========="),console.log(`   Button's data-cd-skip: "${n}"`),console.log(`   Step's data-answer: "${r}"`),console.log(`   Match: ${n===r?"\u2705 YES":"\u274C NO"}`),console.log("   Target step:",{element:s,tagName:s.tagName,classList:s.className});let o=document.querySelectorAll('[data-form="step"]');console.log(`\u{1F441}\uFE0F [CD SKIP] Hiding ${o.length} total steps`),o.forEach((l,u)=>{let m=l;m.style.display="none",m.classList.remove("active-answer-card"),console.log(`  ${u+1}. Hidden step:`,l.getAttribute("data-answer")||"no data-answer")});let i=s;console.log("\u{1F50D} [CD SKIP] Target step BEFORE changes:",{display:getComputedStyle(i).display,inlineDisplay:i.style.display,visibility:getComputedStyle(i).visibility,opacity:getComputedStyle(i).opacity,classList:i.className,offsetHeight:i.offsetHeight,offsetWidth:i.offsetWidth}),i.style.display="block",i.style.visibility="visible",i.style.opacity="1",i.classList.add("active-answer-card"),console.log("\u{1F50D} [CD SKIP] Target step AFTER changes:",{display:getComputedStyle(i).display,inlineDisplay:i.style.display,visibility:getComputedStyle(i).visibility,opacity:getComputedStyle(i).opacity,classList:i.className,offsetHeight:i.offsetHeight,offsetWidth:i.offsetWidth,isVisible:i.offsetHeight>0&&i.offsetWidth>0}),console.log(`\u{1F441}\uFE0F [CD SKIP] Target step now visible (display="${i.style.display}")`);let a=document.querySelector('[data-text="current-step"]');if(a){let u=Array.from(o).indexOf(s);u!==-1&&(a.textContent=String(u+1),console.log(`\u{1F522} [CD SKIP] Updated step counter to: ${u+1}`))}else console.log('\u2139\uFE0F [CD SKIP] No step counter found ([data-text="current-step"])');typeof window.TryFormly?.refresh=="function"?(console.log("\u{1F504} [CD SKIP] Triggering TryFormly.refresh()"),window.TryFormly.refresh()):console.log("\u2139\uFE0F [CD SKIP] TryFormly.refresh() not available");let c=s.closest("form");c?(console.log("\u{1F4DC} [CD SKIP] Scrolling to form"),c.scrollIntoView({behavior:"smooth",block:"start"})):console.log("\u2139\uFE0F [CD SKIP] No parent form found for scrolling"),s.dispatchEvent(new CustomEvent("cd:skip:navigated",{bubbles:!0,detail:{targetAnswer:n,button:e}})),console.log(`\u2705 [CD SKIP] ========== SKIP COMPLETE: "${n}" ==========`)}function ae(){let t=document.querySelectorAll('form[data-cd-form="true"]');if(t.length===0){console.warn('\u26A0\uFE0F [CD FORM] No forms found with data-cd-form="true"'),We();return}t.forEach((e,n)=>{let s=e;try{sn(s),rn(),on(),yn(),hn(s),s.dispatchEvent(new CustomEvent("cdForm:validated",{bubbles:!0}))}catch(r){console.error("\u274C Error enhancing form:",r),r instanceof Error&&console.error("\u274C Stack trace:",r.stack)}}),We()}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ae):ae();window.CDFormLibrary={version:tn,initialize:ae,dynamicRows:Z};})();
